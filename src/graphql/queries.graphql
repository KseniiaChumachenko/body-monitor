query MealsListing {
  meal {
    id
    time
    name
    meal_items {
      id
      foodDesc {
        id
        name
        energy_cal
        energy_kj
        carbohydrates
        fats
        proteins
      }
      weight
    }
  }
}

query MealsByDate($_eq: date = "") {
  meal_aggregate(where: { date: { _eq: $_eq } }, order_by: {name: asc_nulls_first}){
    aggregate{
      sum{
        energy_cal
        energy_kj
        carbohydrates
        proteins
        fats
      }
    }
    nodes{
      id
      date
      time
      name
      meal_items_aggregate{
        aggregate{
          sum{
            energy_cal
            energy_kj
            carbohydrates
            proteins
            fats
          }
        }
        nodes{
          id
          meal_id
          food
          foodDesc {
            id
            name
            energy_cal
            energy_kj
            carbohydrates
            fats
            proteins
          }
          weight
          carbohydrates,
          proteins,
          fats,
          energy_cal,
          energy_kj
        }
      }
    }
  }
}

query MealById($id: uuid!){
  meal_by_pk(id: $id) {
    time
    name
    date
    meal_items {
      carbohydrates
      energy_cal
      energy_kj
      fats
      food
      id
      meal_id
      proteins
      weight
    }
  }
}

query FoodSelectFieldListing {
  food {
    id
    name
    type
    carbohydrates
    proteins
    fats
    energy_cal
    energy_kj
  }
}
