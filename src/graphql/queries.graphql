query MealsListing {
  meal {
    id
    time
    name
    meal_items {
      id
      foodDesc {
        id
        name
        energy_cal
        energy_kj
        carbohydrates
        fats
        proteins
      }
      weight
    }
  }
}

subscription MealsByDate($_eq: date = "") {
  meal(where: { date: { _eq: $_eq } }, order_by: { name: asc_nulls_first }) {
    id
    date
    time
    name
    meal_items {
      id
      meal_id
      food
      foodDesc {
        id
        name
        energy_cal
        energy_kj
        carbohydrates
        fats
        proteins
      }
      weight
      carbohydrates
      proteins
      fats
      energy_cal
      energy_kj
    }
  }
}

subscription MealItemMacrosSumById($meal_id: uuid = "") {
  meal_item_aggregate(where: { meal_id: { _eq: $meal_id } }) {
    aggregate {
      sum {
        carbohydrates
        energy_cal
        energy_kj
        fats
        proteins
      }
    }
  }
}

subscription MealItemMacrosSumByDate($date: date = "") {
  meal_item_aggregate(where: { meal: { date: { _eq: $date } } }) {
    aggregate {
      sum {
        carbohydrates
        energy_cal
        energy_kj
        fats
        proteins
      }
    }
  }
}

query MealById($id: uuid!) {
  meal_by_pk(id: $id) {
    time
    name
    date
    meal_items {
      carbohydrates
      energy_cal
      energy_kj
      fats
      food
      id
      meal_id
      proteins
      weight
    }
  }
}

query FoodSelectFieldListing {
  food {
    id
    name
    type
    carbohydrates
    proteins
    fats
    energy_cal
    energy_kj
  }
}

query FoodTypes{
  food_type{
    value
    decription
  }
}
